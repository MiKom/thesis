\begin{tikzpicture}

\draw[fill=gray!20] (0.3,-2) rectangle ++(6.8,6) node[anchor=north east] at ++(-4.5,0) {Platform 1};

\draw[fill=gray!20] (0.6,-2.8) rectangle ++(6.8,6) node[anchor=north east] at ++(-4.5,0) {Platform 0};

\foreach \x/\xtext in {1/N,1.8/1,2.5/0}
{
  \draw[fill=blue!85!green!5] (\x+0.2,3.3-\x) rectangle ++(4.1,-3);
  \draw[font=\small] node[anchor=west] at (\x+0.2, 3-\x){Device \xtext};
  \foreach \y in {0.5,1,1.4}
  {
    \draw[very thin,fill=green!15, opacity=10] (\x+\y-0.1, 3.2-\x-\y) rectangle ++ (2.84,-1.3);
    \node[font=\tiny,anchor=north west] at (\x+\y-0.1, 3.2-\x-\y) {Compute unit};
    \foreach \z in {0.1, 0.5, 0.9,1.3, 2.4}
   {
     \draw[very thin,fill=yellow!20] (\x+\y-0.1 + \z, 2.7-\x-\y) rectangle ++(0.3, -0.7);
     \draw[font=\tiny] node at ( (\x+\y + \z + 0.05, 2.5-\x-\y) {P};
     \draw[font=\tiny] node at ( (\x+\y + \z + 0.05, 2.25-\x-\y) {E};
   }
   \draw[font=\small] node at  ( (\x+\y + 1.95, 2.3-\x-\y) {\ldots};
  }
}
\end{tikzpicture}